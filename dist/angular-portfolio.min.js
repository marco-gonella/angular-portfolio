!function(e,i){if("function"==typeof define&&define.amd)define(["angular","https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"],i);else{if(void 0===e.angular)throw new Error("Come on man! Angular Portfolio's JavaScript requires Angular");if(void 0===e.lodash)throw new Error("Come on man! Angular Portfolio's JavaScript requires Lodash");e.angularPortfolioModule=i(e.angular,e.lodash)}}(window,function(e,i){"use strict";function n(){return{restrict:"EA",scope:{genericConfig:"=?",items:"=?",areas:"=?",mainScope:"<"},link:function(e,n,o){function t(n,o){i.forEach(e.items,function(e,i){n?e.id?e.id=o+"-"+e.id:e.id=o+"-sub"+(i+1):e.id||(e.id="item"+(i+1))})}function r(e,n){i.map(e,function(e){for(;e.length<n;)e.push(".")})}e.items||Array.isArray(e.items)||console.error("Invalid Items, check it"),e.genericConfig=e.genericConfig||{},e.genericConfig.rec||(e.genericConfig.rec={iteration:0},e.mainScope=e.$parent);var a=e.genericConfig;a.rec.iteration>0?t(!0,a.rec.parentId):t(),e.items&&i.map(e.items,function(i){return i.value&&(i.value=i.value.replace(/(%[i]%)/g,"<i class='"+(i.icon||"")+"'></i>")),i.callback&&("function"==typeof i.callback?i.doClick=i.callback:e.mainScope[i.callback.name]?i.doClick=e.mainScope[i.callback.name].bind.apply(e.mainScope[i.callback.name],[null].concat(i.callback.params)):(i.doClick=function(){},console.error("callback: ( "+i.callback.name+" ) is not associated to scope, for more info check documentation online"))),i});var c=e.areas?function(e,i){return i&&e.forEach(function(e){e.forEach(function(n,o){e[o]="."==n?n:i+"-"+n})}),e}(e.areas,a.rec.parentId):function(n){n=n||3;var o,r=[];return t(),i.forEach(e.items,function(e,i){o=[];for(var t=0;t<n;t++)o.push(e.id);r.push(o)}),r}(a.nCols);e.gridStyle=function(e,n,o){var t=i.maxBy(c,function(e){return e.length}).length;r(c,t);var l={"grid-template-areas":"","grid-template-columns":"repeat("+((t&&e<t?t:e)||t)+", 1fr )","grid-template-rows":a.rec.iteration>0?"":"repeat("+c.length+", "+(n||"200px")+")","grid-gap":o};return c.forEach(function(e){l["grid-template-areas"]+="'"+e.join(" ")+"'"}),l}(a.nCols,a.sizeRow,a.gap)},template:'<style parse-style>.portfolio-container {display: grid;grid-gap: 20px;height: 100%;}.items {color: white;display: flex;justify-content: center;align-items: center;font-size: 2em;}.items span {z-index: 100;}.inner-portfolio-container {display: grid;min-width: 100%;min-height: 100%;position: absolute;top: 0;right: 0;}@media screen and (max-width: 1200px) {.portfolio-container { grid-gap: 10px;}}@media screen and (max-width: 768px) {.portfolio-container {grid-gap: 0px;}}</style><div class="portfolio-container" ng-style="gridStyle"><div ng-repeat="item in items" id="{{item.id}}" class="items {{item.class}}" style="{{item.callback ? \'cursor:pointer\' : \'\' }}" ng-click="item.doClick()"><style parse-style>.items#{{item.id}}{grid-area:{{item.id}};position: relative;overflow: hidden;padding: 0;background-color: {{item.backgroundColor || genericConfig.backgroundColor}};font-family: {{item.font || genericConfig.font}};font-size: {{item.fontSize || genericConfig.fontSize}};color:{{item.textColor || genericConfig.textColor}};transition: all {{item.animationTime || genericConfig.animationTime || \'none\'}};}.items#{{item.id}}:hover{background-color:{{item.hoverBackgroundColor || genericConfig.hoverBackgroundColor}};color:{{item.hoverTextColor || genericConfig.hoverTextColor}};}</style><style parse-style ng-if="item.image">.items#{{item.id}}:after{content: \'\';display: block;position: absolute;top: 0;left: 0;height: 100%;width: 100%;background-repeat: no-repeat;background-position: center center;background-size: cover;transition: all {{item.animationTime || genericConfig.animationTime || \'0.5s\'}};background-image: url({{item.image}});opacity: {{item.shadeFocus ? 0.3: 1}};transform-origin: {{item.focusCenter}};} .items#{{item.id}}:hover:after{transform: scale({{item.focusScale}});opacity: {{item.shadeFocus ?  0.7: 1}};}</style><span ng-bind-html="item.value | toTrusted"></span><ng-portfolio ng-if="item.subitems" class="inner-portfolio-container" ng-init="item.genericConfig.rec.iteration = genericConfig.rec.iteration + 1;item.genericConfig.rec.parentId = item.id" items="item.subitems" generic-config="item.genericConfig" areas="item.areas" main-scope="mainScope"></ng-portfolio></div></div>'}}return e.module("angularPortfolio",[]).directive("parseStyle",function(e){return function(i,n){var o=e(n.html());i.$watch(function(){return o(i)},function(e){n.html(e)})}}).filter("toTrusted",function(e){return function(i){return e.trustAsHtml(i)}}).directive("ngPortfolio",n)});